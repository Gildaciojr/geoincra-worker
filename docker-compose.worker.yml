services:
  geoincra_worker:
    build: .
    container_name: geoincra_worker
    restart: always

    environment:
      PYTHONUNBUFFERED: "1"
      DATABASE_URL: postgresql://geoincra_user:domboscojacutinga33@geoincra_postgres:5432/geoincra_db
      DATA_DIR: /data
      BACKEND_UPLOADS_BASE: /app/app/uploads

    volumes:
      - geoincra_uploads:/data

    networks:
      - backend_default

volumes:
  geoincra_uploads:
    external: true

networks:
  backend_default:
    external: true